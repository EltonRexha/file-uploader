<div class="w-full hidden sm:w-auto sm:flex h-screen" id="completeSideBar">
  <div class="bg-stone-100 border-stone-300 border-r-2 w-[75px]">
    <button
      class="w-full sm:hidden flex items-center justify-center mt-4 cursor-pointer"
      onclick="hideSideBar()"
    >
      <img src="/images/icons/cross.svg" alt="Close" class="w-[50%] h-10" />
    </button>
    <a href="/dashboard/home">
      <div class="w-full flex items-center justify-center mt-4 cursor-pointer">
        <img
          src="/images/icons/smallLogo.svg"
          alt="Logo"
          class="w-[50%] h-10"
        />
      </div>
    </a>

    <div class="flex flex-col h-[90%]">
      <button class="flex flex-col items-center" id="home-btn">
        <div
          class="flex mt-6 cursor-pointer bg-zinc-200 border-zinc-200 border-2 ml-4 mr-4 justify-center items-center h-10 w-10 rounded-md"
        >
          <img src="/images/icons/home.svg" alt="Home" class="w-[50%]" />
        </div>
        <p class="text-xxs text-zinc-700">Home</p>
      </button>

      <button class="flex flex-col items-center" id="workspace-btn">
        <div
          class="flex mt-6 cursor-pointer border-zinc-200 border-2 ml-4 mr-4 justify-center items-center h-10 w-10 rounded-md"
        >
          <img
            src="/images/icons/workspace.png"
            alt="Workspace"
            class="w-[50%]"
          />
        </div>
        <p class="text-xxs text-zinc-700">Workspaces</p>
      </button>

      <button
        class="flex flex-col items-center mt-[auto]"
        id="hide-sidebar-btn"
      >
        <div
          class="flex mt-6 cursor-pointer ml-4 hover:bg-zinc-200 mr-4 justify-center items-center h-10 w-10 rounded-md"
        >
          <img src="/images/icons/sidebar.png" alt="Sidebar" class="w-[50%]" />
        </div>
      </button>
    </div>
  </div>
  <div
    class="flex-1 w-60 bg-stone-100 border-stone-300 border-r-2 overflow-auto"
    id="sidebar"
  >
    <div id="home-content" class="block">
      <div class="p-4">
        <h1 class="ml-5 mt-3 text-xl font-semibold">Home</h1>
        <div class="mt-10 cursor-pointer">
          <div
            class="hover:bg-zinc-200 p-2 rounded-lg flex gap-3 <%=locals.allFiles ? 'bg-zinc-200' : ''%>"
          >
            <div class="flex w-5 justify-center items-center">
              <img
                src="/images/icons/allfiles.svg"
                alt="Files"
                class="w-[100%]"
              />
            </div>
            <p>All files</p>
          </div>
        </div>
        <div class="cursor-pointer">
          <div class="hover:bg-zinc-200 p-2 rounded-lg flex gap-3">
            <div class="flex w-5 justify-center items-center">
              <img
                src="/images/icons/photos.svg"
                alt="Photograph"
                class="w-[100%]"
              />
            </div>
            <p>Photos</p>
          </div>
        </div>
        <div class="cursor-pointer">
          <div class="hover:bg-zinc-200 p-2 rounded-lg flex gap-3">
            <div class="flex w-5 justify-center items-center">
              <img
                src="/images/icons/groups.svg"
                alt="Group"
                class="w-[100%]"
              />
            </div>
            <p>Shared Workspaces</p>
          </div>
        </div>
        <div class="cursor-pointer">
          <div class="hover:bg-zinc-200 p-2 rounded-lg flex gap-3">
            <div class="flex w-5 justify-center items-center">
              <img
                src="/images/icons/analytics.svg"
                alt="Group"
                class="w-[100%]"
              />
            </div>
            <p>Workspace Activities</p>
          </div>
        </div>
      </div>
    </div>
    <div id="workspace-content" class="hidden">
      <h1 class="ml-5 mt-6 text-xl font-semibold">My workspaces</h1>
      <% if(locals.workspaces) { locals.workspaces.forEach(({name}) => {%>
      <div class="p-2 mt-3 cursor-pointer">
        <div class="hover:bg-zinc-200 p-2 rounded-lg flex gap-3">
          <div class="flex w-5 justify-center items-center">
            <img
              src="/images/icons/workspaceItem.png"
              alt="Files"
              class="w-[100%]"
            />
          </div>
          <p><%=name%></p>
        </div>
      </div>
      <%}) } %>
    </div>
  </div>
</div>
<script>
  const homeBtn = document.querySelector('#home-btn');
  const workspaceBtn = document.querySelector('#workspace-btn');
  const hideSideBarBtn = document.querySelector('#hide-sidebar-btn');
  const sidebar = document.querySelector('#sidebar');
  const homeContent = document.querySelector('#home-content');
  const workspaceContent = document.querySelector('#workspace-content');

  homeBtn.addEventListener('click', () => {
    workspaceContent.style.display = 'none';
    homeContent.style.display = 'block';

    workspaceBtn.querySelector('div').classList.remove('bg-zinc-200');
    homeBtn.querySelector('div').classList.add('bg-zinc-200');
  });

  workspaceBtn.addEventListener('click', () => {
    homeContent.style.display = 'none';
    workspaceContent.style.display = 'block';

    homeBtn.querySelector('div').classList.remove('bg-zinc-200');
    workspaceBtn.querySelector('div').classList.add('bg-zinc-200');
  });

  hideSideBarBtn.addEventListener('click', () => {
    sidebar.classList.toggle('hidden');
  });

  function showSideBar() {
    const sideBar = document.querySelector('#completeSideBar');
    sideBar.style.display = 'flex';
  }

  function hideSideBar() {
    const sideBar = document.querySelector('#completeSideBar');
    sideBar.style.display = 'none';
  }
</script>
